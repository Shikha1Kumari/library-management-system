{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/task1/project/app/admin/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Link from 'next/link'; \r\n\r\nexport default function AdminPage() {\r\n  const [books, setBooks] = useState<any[]>([]);\r\n  const [newBook, setNewBook] = useState({ title: '', author: '', category: '', available: true });\r\n\r\n  // For fetching the book\r\n  const fetchBooks = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:5000/api/books');\r\n      setBooks(res.data);\r\n    } catch (err) {\r\n      console.error(\"Fetch error:\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { fetchBooks(); }, []);\r\n\r\n  // 2. For adding book\r\n  const handleAddBook = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:5000/api/books', newBook);\r\n      alert(\"Book Added!\");\r\n      setNewBook({ title: '', author: '', category: '', available: true });\r\n      fetchBooks();\r\n    } catch (err) {\r\n      alert(\"Request failed! Check Backend.\");\r\n    }\r\n  };\r\n\r\n  // 3. Book delete \r\n  const handleDelete = async (id: string) => {\r\n    if (window.confirm(\"Do you want to delete this book?\")) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/books/${id}`);\r\n        alert(\"Book Deleted!\");\r\n        fetchBooks();\r\n      } catch (err) {\r\n        alert(\"Book Not deleted!\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '40px', fontFamily: 'Arial' }}>\r\n      {/* Header section with Back Button */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n        <h1>üõ† Admin Library Manager</h1>\r\n        <Link href=\"/\">\r\n          <button style={{ \r\n            padding: '10px 20px', \r\n            backgroundColor: '#0070f3', \r\n            color: 'white', \r\n            border: 'none', \r\n            borderRadius: '5px', \r\n            cursor: 'pointer' \r\n          }}>\r\n            üè† View Dashboard\r\n          </button>\r\n        </Link>\r\n      </div>\r\n      \r\n      {/* Form to Add Book */}\r\n      <form onSubmit={handleAddBook} style={{ marginBottom: '30px', display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\r\n        <input \r\n          placeholder=\"Title\" \r\n          value={newBook.title} \r\n          onChange={e => setNewBook({...newBook, title: e.target.value})} \r\n          required \r\n          style={{ padding: '8px' }}\r\n        />\r\n        <input \r\n          placeholder=\"Author\" \r\n          value={newBook.author} \r\n          onChange={e => setNewBook({...newBook, author: e.target.value})} \r\n          required \r\n          style={{ padding: '8px' }}\r\n        />\r\n        <input \r\n          placeholder=\"Category\" \r\n          value={newBook.category} \r\n          onChange={e => setNewBook({...newBook, category: e.target.value})} \r\n          required \r\n          style={{ padding: '8px' }}\r\n        />\r\n        <button type=\"submit\" style={{ backgroundColor: 'green', color: 'white', cursor: 'pointer', padding: '8px 15px', border: 'none', borderRadius: '4px' }}>\r\n          Add Book\r\n        </button>\r\n      </form>\r\n\r\n      {/* Table to show books */}\r\n      <table border={1} style={{ width: '100%', borderCollapse: 'collapse', textAlign: 'left' }}>\r\n        <thead>\r\n          <tr style={{ backgroundColor: '#f4f4f4' }}>\r\n            <th style={{ padding: '10px' }}>Title</th>\r\n            <th>Author</th>\r\n            <th>Category</th>\r\n            <th>Status</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {books.map((book) => (\r\n            <tr key={book._id}>\r\n              <td style={{ padding: '10px' }}>{book.title}</td>\r\n              <td>{book.author}</td>\r\n              <td>{book.category}</td>\r\n              <td>{book.available ? \"‚úÖ In Library\" : \"‚ùå Borrowed\"}</td>\r\n              <td>\r\n                <button \r\n                  onClick={() => handleDelete(book._id)} \r\n                  style={{ backgroundColor: 'red', color: 'white', border: 'none', padding: '5px 10px', cursor: 'pointer', borderRadius: '3px' }}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}